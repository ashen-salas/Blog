{% extends 'base.html' %}
{% block title %}
    {% if article %}Editar artículo{% else %}Crear artículo{% endif %}
{% endblock %}

{% block content %}
<h2>{% if article %}Editar artículo{% else %}Crear artículo{% endif %}</h2>
<form method="POST" action="" enctype="multipart/form-data">
    <label for="title">Título:</label><br />
    <input type="text" id="title" name="title" value="{{ article.title if article else '' }}" required /><br />
    
    <label for="image_file">Imagen (opcional):</label><br />
    <input type="file" id="image_file" name="image_file" accept="image/*" /><br />
    
    {% if article and article.image_url %}
        <p>Imagen actual:</p>
        <img src="{{ article.image_url }}" alt="Imagen del artículo" style="max-width: 300px;" />
    {% endif %}
    
    <label for="content">Contenido:</label><br />
    <textarea id="content" name="content" rows="10" required>{{ article.content if article else '' }}</textarea><br />
    
    <button type="submit" class="bg-btn">{% if article %}Actualizar{% else %}Crear{% endif %}</button>
</form>
{% endblock %}
